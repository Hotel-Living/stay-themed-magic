/* Smooth Scroll Navigation Enhancement */
html {
  scroll-behavior: smooth;
}

/* Respect user preference for reduced motion */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Ensure smooth scrolling works in Safari and older browsers */
@supports not (scroll-behavior: smooth) {
  html {
    scroll-behavior: smooth;
  }
}

/* Performance optimization for smooth scrolling */
.smooth-scroll-target {
  scroll-margin-top: 80px; /* Account for fixed headers */
}

/* Subtle Button Hover Animations */
button:not(:disabled):not(.no-hover):not([aria-busy="true"]) {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

button:not(:disabled):not(.no-hover):not([aria-busy="true"]):hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.1);
}

button:not(:disabled):not(.no-hover):not([aria-busy="true"]):active {
  transform: scale(0.98);
}

/* Preserve existing animations for specific button types */
.hover-scale,
.story-link,
[class*="animate-"] {
  /* Keep existing animations intact */
}

/* Focus enhancement for accessibility */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
  border-radius: 2px;
}

/* Connection status styling */
.connection-banner {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 9999;
  padding: 8px 16px;
  text-align: center;
  font-size: 14px;
  font-weight: 500;
  transition: transform 0.3s ease-in-out;
}

.connection-banner.offline {
  background-color: hsl(var(--destructive));
  color: hsl(var(--destructive-foreground));
  transform: translateY(0);
}

.connection-banner.online {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  transform: translateY(0);
}

.connection-banner.hidden {
  transform: translateY(-100%);
}

/* Scroll Reveal Animations */
.scroll-reveal {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.scroll-reveal.animate-fade-in {
  opacity: 1;
  transform: translateY(0);
}

/* Enhanced fade animations for panels */
.animate-fade-out {
  animation: fadeOut 0.2s ease-out forwards;
}

.animate-slide-out-right {
  animation: slideOutRight 0.2s ease-out forwards;
}

.animate-slide-in-right {
  animation: slideInRight 0.2s ease-out forwards;
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes slideOutRight {
  from { transform: translateX(0); opacity: 1; }
  to { transform: translateX(20px); opacity: 0; }
}

@keyframes slideInRight {
  from { transform: translateX(-20px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}